<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="description"><meta name="keyword"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>z-index层叠顺序小小的分析</title><link rel="shortcut icon" href="/images/avatar.png" type="image/x-icon"><link href="/styles/site.css" rel="stylesheet"></head><body><header class="container" id="header"><div class="header"><div class="header-left"><div class="avatar"><img src="/images/avatar.png"></div><div class="author"><div class="author-name"><a href="/">小新</a></div><div class="about-me">Live free or die</div></div></div><div class="header-right"><ul class="navigation"><li><a href="/archives">归档</a></li><li><a href="https://slides.com/codert">技术分享</a></li></ul></div><div class="about-me-mask"><div class="about-me-wrap"><div class="about-me__header"><div class="avatar"><img src="/images/avatar.png"></div></div><ul class="socials"><li class="social-item"><span class="label"><img src="/images/socials/github.svg" alt="https://github.com/codertx"></span><a href="https://github.com/codertx" target="_blank" title="https://github.com/codertx">https://github.com/codertx</a></li><li class="social-item"><span class="label"><img src="/images/socials/email.svg" alt="codert.sn@gmail.com"></span><span>codert.sn@gmail.com</span></li></ul></div></div></div></header><div class="container post"><section class="article"><div class="title">z-index层叠顺序小小的分析</div><div class="date">写于2016年04月03日</div><div class="content"><p>下文如果没有特别说明，<code>static</code>元素指的就是设置<code>postion:static</code>的元素或者没有设置<code>position</code>的元素。设置了<code>position</code>的元素指的是设置了除<code>static</code>以外值的元素。</p>
<a id="more"></a>
<h2 id="默认规则"><a href="#默认规则" class="headerlink" title="默认规则"></a>默认规则</h2><p>如果不对节点设置<code>position</code>属性，文档流后面的元素会遮挡住前面的元素。同时对<code>static</code>元素设置<code>z-index</code>没有任何效果。对已经设置了<code>position</code>定位规则，如果没有设置<code>z-index</code>则后面的元素仍然会遮住前面的元素。<br>设置<code>postion:static</code>和没有设置是一个效果，元素设置<code>position</code>为<code>static</code>以外的任何值的元素，会遮住<code>static</code>元素。如果不想让其遮挡住<code>static</code>元素，可以将<code>z-index</code>设置为<code>-1</code></p>
<h2 id="从父规则"><a href="#从父规则" class="headerlink" title="从父规则"></a>从父规则</h2><p>对于设置了<code>position</code>的元素来说，A节点的<code>z-index</code>比B节点大或者A节点和B节点一样大且但A在B的后面，那么A的子节点一定会覆盖在B的前面。因为它的父节点就在B前面所以子节点跟随父元素的安排<br>非常值得注意的是，从父规则仅在显示设置了<code>z-index</code>的节点上有效，并且<code>position</code>不为<code>static</code></p>
<h2 id="参与规则"><a href="#参与规则" class="headerlink" title="参与规则"></a>参与规则</h2><p><code>z-index</code>值越大，则显示越靠前。将<code>z-index</code>设置为<code>0</code>与不设置<code>z-index</code>属性没有区别。<br>两个元素<code>z-index</code>设置为同一个值，后面的元素会遮挡住前面的规则。在这种情况下，即使前面的元素的子元素<code>z-index</code>较大，它也会被后面的元素遮挡住。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"a"</span> <span class="attr">style</span>=<span class="string">"position:relative;z-index:0;"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"a-1"</span> <span class="attr">style</span>=<span class="string">"position:relative;z-index:2;"</span>&gt;</span>A-1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> </div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"b"</span> <span class="attr">style</span>=<span class="string">"position:relative;z-index:0;"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"b-1"</span> <span class="attr">style</span>=<span class="string">"position:relative;z-index:1;"</span>&gt;</span>B-1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>上述代码效果如下<br><img src="/images/1461304407837_2.png" alt=""></p>
<h2 id="层级树规则"><a href="#层级树规则" class="headerlink" title="层级树规则"></a>层级树规则</h2><p>有了前面例子的铺垫，我们在这里引入一个层级树概念，当元素设置了<code>position</code>属性，并且<code>z-index</code>给了具体赋值，那么这个元素会被放入一个层级树中，通过比较<code>z-index</code>来决定显示顺序的先后，我们来看一个代码<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"a"</span> <span class="attr">style</span>=<span class="string">"position:relative;z-index:2;"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"a-1"</span> <span class="attr">style</span>=<span class="string">"position:relative;z-index:0;"</span>&gt;</span>A-1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> </div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"b"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"b-1"</span> <span class="attr">style</span>=<span class="string">"position:relative;z-index:1;"</span>&gt;</span>B-1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>上述代码效果如下<br><img src="/images/1461304409009_3.png" alt=""><br>层级树图表示如下<br><img src="/images/1461304409059_4.png" alt=""><br>图中虽然 A-1<code>(z-index:0)</code>的值比 B-1<code>(z-index:1)</code>小, 但因为在层级树里 A<code>(z-index:2)</code> 和 B-1 在一个层级, 而 A 的值比 B-1 大, 根据从父规则, A-1 显示在 B-1 前面.</p>
<h2 id="参与规则2"><a href="#参与规则2" class="headerlink" title="参与规则2"></a>参与规则2</h2><p>如果父元素设置了<code>position</code>而没有设置<code>z-index</code>，那么他们的子元素会按照各自<code>z-index</code>来进行排列，父元素的排列先后顺序不再对子元素产生影响。但是在IE6和IE7中，如果没有设置<code>z-index</code>的值，那么默认会设置<code>z-index</code>为0。所以在IE6和IE7中，还是会先按父元素的顺序排列。<br>与这种情况类似的是，如果父元素没有设置<code>position</code>属性，那么他们的子元素也会按照各自的<code>z-index</code>来排列。</p>
<p>##浮动元素</p>
<p>浮动元素会遮住<code>static</code>元素，但是会被设置了<code>position</code>的元素遮住。并且对浮动元素设置<code>z-index</code>没有任何效果。如果不想后面设置了<code>position</code>的元素遮挡住浮动元素，可以将后面的元素设置为<code>z-index:-1</code></p>
<p>参考文章：<br><a href="http://www.neoease.com/css-z-index-property-and-layering-tree/" target="_blank" rel="external">CSS z-index 属性的使用方法和层级树的概念</a></p>
</div><div class="tags"><a class="tag-link" href="/tags/css/">css</a></div></section></div><div class="container"><ul class="nav"><li>上一篇：<a href="/2016/04/19/box-generate/">视觉格式化模型</a></li><li>下一篇：<a href="/2015/10/25/charset-and-encoding/">什么是编码与字符集</a></li></ul></div><div id="backToTop"><div class="back-arrow back-arrow-left"></div><div class="back-arrow back-arrow-right"></div></div><footer class="container"><div class="rights"><span>Powered by </span><a href="http://hexo.io" target="_blank">Hexo</a><span>, Theme </span><a href="https://github.com/gary-Shen/hexo-theme-bear" target="_blank">Bear</a><span>.</span></div></footer><script src="/script/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/script/index.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-138857294-1', 'auto');
ga('send', 'pageview');</script><script src="/script/post.js"></script></body></html>